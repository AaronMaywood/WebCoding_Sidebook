# LEVEL9(LEVEL9.md) マルチデバイス(1)

ここから使用するテキストは**初心者からOK「スマートフォンサイト制作実習」ver1.0 F 22.06.15**です。

このテキストではテクニカルな話題が込み入っているので、テキストに先立って集中的に要点解説をします。
[その後の章](smartphone-site-text)でテキストに沿って補足をします。
それまで要点解説に集中して下さい。

(pointcheck-multidevice)=
## 要点解説

テキストではウェブサイトをスマートフォンにも対応する「マルチデバイス対応」として次の話題を学びます。

1. レスポンシブとは
2. メディアクエリーを利用したCSS切り替え
3. デバイスモードを使用して検証する
% Chromeの画面には出てこないが、デバイスモードの名称で良いようだ。
% Google 公式記事でデバイスモードの名称が出てくる
% https://developer.chrome.com/ja/blog/new-in-devtools-97/#device
% また、デバイスモードの役割はモバイルデバイスのビューポートをエミュレートするものとある。<meta name="viewport"> を確認するには好適だが、あくまでもビューポート（画面の大きさ）のみで、表示品質まではエミュレートしないという点に注意
% https://developer.chrome.com/docs/devtools/device-mode/#viewport
4. ビューポート設定
5. リキッドレイアウト
6. ハンバーガーメニュー（ドロワーメニュー）
% 7. レティナディスプレイ対応		←これはPCの4Kなどのより広い話題も含み、大きすぎる話題なので省く

### 要点解説 1. レスポンシブとは

本テキストのテーマである「マルチデバイス対応」とは、ウェブサイトをPCのみならずスマートフォンやタブレット等の様々な機器（デバイス）でも最適に閲覧できるようにすることを指します。

ウェブサイトをスマートフォンでも閲覧できるようにするには大きく２通りの方法がありますが、現在は２つ目で説明する**レスポンシブウェブデザイン**が主流です。

１つ目はかつて行われた手法で、PC版のウェブサイトとは別の版としてスマートフォン用のサイトを構築し、スマートフォンはこちら、PC版はこちら、などのリンクを提供する方法です。
% この方法では実質サイトを２つ作成し保守する手間がかかるものの、それぞれのデバイス（PCとスマートフォン）に応じた最適な情報デザイン（何を見せるか）を行いやすいというメリットがありました。
% しかし、最大のデメリットはSEO効果が弱まることです。
この方法にはデバイスに応じた最適なページが作りやすいというメリットはあるものの、サイトが分かれてしまうことでSEO効果が弱まるという最大のデメリットを抱えていました。
% 本来は一つのウェブサイトであるのに、検索エンジンからは別々のサイトであるとみなされてしまうことが原因です。

そこで現在は２つ目の方法が主流になっています。
それはページの中に、PCやスマートフォン等の各種デバイスに応じてCSSを切り替えるというカラクリを内蔵させる方法です。
どのデバイスで閲覧しても、そのデバイスの画面幅に**応じて**最適なスタイルを提供することから、この手法を**レスポンシブウェブデザイン**と言います。

このレスポンシブウェブデザインの手法はGoogleがお墨付きをして業界に普及したという歴史もあります。

```{tip}
**レスポンシブウェブデザイン(Responsive Web Desibn, RWD)**

レスポンスとは**敏感に反応して応じる**という意味で、レスポンシブウェブデザインは「ページ自体が各種のデバイスに反応して最適な表示を行うウェブデザイン手法」と言った意味です。
**長いので単に「レスポンシブ」と呼ばれます**。また、ウェブサイトをレスポンシブ化することを**レスポンシブ対応**と言ったりします。
```

本テキストは「マルチデバイス対応」のテキストですが、具体的にはマルチデバイス対応の手法としての**レスポンシブウェブデザインを学ぶテキスト**となっています。

% ２つ目は現在主流の方法で、ページの中にPC版とスマートフォン版の両方の表示スタイルを内蔵させる方法です。
% 現在ではSEO効果を複数ページに分散させない目的で、
%
% テキストではウェブサイトをスマートフォンにも対応する「マルチデバイス対応」として次の話題を学びます。
% なお、上記の技術を使用してマルチデバイス対応する手法をレスポンシブウェブデザイン（Responsive Web Design、略してRWD、単に「レスポンシブ」とも）と言います。
% 
% レスポンシブとは表示するデバイスの違いに「敏感に反応して、応じる」という意味で、具体的には表示するデバイスの**画面幅に応じたCSSを選択する**ことで達成します。
% 
% % レスポンシブウェブデザイン
% % →このページの説明はわかりにくい
% % https://ja.wikipedia.org/wiki/%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B7%E3%83%96%E3%82%A6%E3%82%A7%E3%83%96%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3
% 
% **デバイス**とは本来は機器という意味の広い用語ですが、レスポンシブの文脈ではPC、タブレット、スマートフォンなどの**各種の表示機器**を指します。
% →この説明はしないことにした。単にデバイスという言葉を文章に埋め、それを使用する文脈から自然に学べるようにした
% % デバイスとは
% % https://kotobank.jp/word/%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9-6375
% % > 本来は道具・仕掛け・考案・くふう・方策・図案・意匠などを意味する英単語であるが、コンピュータ関連では、コンピュータを構成する電子機器やパーツ類、各種周辺機器など、特定の機能をもった装置の総称として用いられる。
% 
% そして、レスポンシブの手法を使ってページをPC、タブレット、スマートフォンの複数のデバイスに対応させることを「マルチデバイス対応（多デバイス対応）」と言います。

### 要点解説 2. メディアクエリーを利用したCSS切り替え

レスポンシブ対応の第一歩はメディアクエリーです。
メディアクエリーでは、表示するデバイスの画面幅に連動して使用するスタイルシートを切り替える機構です。
% PC用のウェブサイトをスマートフォンにも対応させるマルチデバイス化は、ユーザーが利用する端末（デバイス）の幅によってスタイルシートのデザインを切り替える「メディアクエリー」の仕組みを利用して実施します。
% 
% ```{tip}
% ページを構成するファイルにHTMLとCSSの２種類があることを思い出してください。
% HTMLが構造を決定し、CSSがその構造の見た目を決定します。
% このことは同一のHTMLに対して異なるCSSを当てると全く別の見栄えにすることができることを説明しています。
% マルチデバイス対応はCSSのこの性質を利用し、スマートフォンでページを閲覧する際にPC版とは別のCSSを当てることで実現します。
% ```

メディアクエリーとは以下の`@media ... { ... }`の形をしたもののことで、条件付きスタイルを定義することができます。
```{code} css
body {
	background: lightgreen;
}

/* ↓これがメディアクエリーと呼ばれる機構で、画面幅が600px以下の時に追加するスタイルを定義しています。 */
@media (max-width: 600px) {
	body {
		background: blue;
		color: white;
	}
}
```

メディアクエリーで使用する主な条件は画面幅です。
PCに比べてスマートフォンは小さな画面幅をしていますので、その特徴を利用してスタイル定義を追加・上書きします。

% この説明は早すぎる。また不要かもしれない。
% ```{tip}
% [TODO] メディアクエリーに指定できる条件にはいろいろなものがあります。
% 	しかし、ほとんどのケースで幅を条件にし、`min-width`と`max-width`が使用されます。
% ```

上記CSSを使用したサンプルを確認してみましょう。
次のページを別タブで開いて下さい。

https://github.com/AaronMaywood/coding_sample/tree/main/media-query/sample1

```{figure} https://gyazo.com/7660620827b8787a46baa1d8534ba0d2.gif
ブラウザーの幅を狭くしたり広くしたりしてみましょう。幅が600px以下の時には青色に変化します。
```

サンプルでどのようにスタイルが適用されているのかを、`DevTools`から確認してみます。
% cards/devtools.md ←ここに展開する必要はないが、どこかで必要かもなのでメモ。ただしまだ書いていない{{TODO}}

```{figure} https://i.gyazo.com/2795efad6129632c8b0c5b0d0a089bd7.png
`body`の背景色は`background:lightgreen;`です。
```
````{figure} https://i.gyazo.com/fe175e030a3f1d2a1b2d76f10da33509.png
幅を600px以下にした時には新たに`background:blue;`のスタイルが追加になり、当初の`background:lightgreen;`が上書きされて見た目が変化しました。
````

これがメディアクエリーの働きです。

#### メディアクエリーの書き方

メディアクエリーの書き方を説明します。

`@media`から始まるメディアクエリーの書式は次のとおりです。

```{code} css
@media 条件をここに書く {
	追加するスタイルをここに書く
}
```

今回のサンプルで使用した**条件**は`(max-width: 600px)`で、これは「幅が600px以下の時（幅は最大でも600pxまで）」という意味です。

````{tip}
**条件に使用できる用語**

メディアクエリーで使用できる条件は、代表的には次のものがあります。

- キーワード `screen`、`print`、`all` ... `print`はプリンターで印刷する時を指し、`screen`はPCやスマートフォンなど、ディスプレイ機器で閲覧する場合を指します。`all`を指定すると`screen`と`print`の両方を含みます。これら**キーワードを何も書かないと既定値の`all`が使用されます。印刷と画面表示で区別する必要が無い場合には既定値でかまいません。**
- `(max-width: 600px)` ... 「最大の幅が`600px`」という意味ですが、「幅が`600px`以下の時」と言い換えた方が分かりやすいでしょう。 
- `(min-width: 600px)` ... `max-width`と反対の意味で「幅が`600px`以上の時」です。これら`max-width`と`min-width`はどっちがどっちかわからなくなりがちです。そこで本来の意味を思い出し、`min-width:600px`は最低でも`600px`だから、それより大きい幅を示しているな、だから`600px`以上だ、と連想できるようにして下さい。
- 接続詞`and` ... `and`は「かつ」という意味です。複数の条件をいっぺんに指定する時に使用します。次の例を参照して下さい。
  ```{code} css
  /* 画面デバイスで、かつ幅は300px〜600pxの間に有る場合を指定したことになります。 */
  @media screen and (min-width: 300px) and (max-width: 600px) {
  }
  ```
% 最新のメディアクエリーではもっとわかりやすくなったようだ。余力があればフォロー。
````

**追加するスタイル**には上書きするスタイルを通常のCSSを書く時と同様にセレクターから書きます。

この調子でメディアクエリーを増やせばスタイルの切り替え箇所（ブレークポイント）をいくらでも増やすことができます。
次の例ではスタイルを３段階に切り替えます。

https://aaronmaywood.github.io/coding_sample/media-query/sample2/index.html

ソースコードを開いてスタイルを確認してみましょう。

% cards/view-source.md	にブラウザーからソースコードを開く方法をまとめたい。
% ただし、ここではsample2/index.htmlに特化した説明のため、cardsをインポートせず、展開している。

```{figure} https://i.gyazo.com/df0ba70bd64519dd1fdcf6347ca5844b.png
[右クリック]-[ページのソースを表示]を選択します。
```

```{figure} https://i.gyazo.com/fdd5a6fd45af2b05b55a358afa14c156.png
ページのソースコードが表示されました。スタイルシートを確認したいので`css/style.css`をクリックします。
```

```{figure} https://i.gyazo.com/d61e4417918294a2b45a248e3d6e115b.png
スタイルシートのソースコードが開かれました。
```

スタイルが規定・600px以下・300px以下の３種類になっているのが確認できます。

% おまけ
% コンテンツファーストやモバイルファースト
% https://amsstudio.jp/content/term-content-first
% https://kanazawa-homepage.jp/column/column-133/
%
% 	[TODO] （おまけ）モバイルファースト的な構成
% 		小→中→大
% 		※CSSの優先順位から、小と大のスタイルを書く順番を逆にする必要がある
% 			[TODO] スタイルの優先順位
% 				CSSでスタイルを上書きするには、上書きするスタイルをCSSのソースコードの下の方に持っていきますので、メディアクエリーは通常下の方に書きます。

% ↓以下は古い。↑に書き直した。
% レスポンシブはCSSを切り替えて実現すると説明しました。この切り替えるカラクリを**メディアクエリー**といいます。
% メディア（媒体）はこのページを表示するデバイスの種類やビューポート幅などの特性を指し、クエリーとは質問や問い合わせという意味です。
% % https://ejje.weblio.jp/content/query
% **メディアクエリーとは今、どのメディアで閲覧している？と尋ね、それに応じて使用するCSSを切り替える機能です。**
% メディアクエリーを使えばビューポート幅を尋ねてCSSを切り替えることができ、それによってレスポンシブ（ビューポート幅に応じる）を実現できます。
% 
% ````{info}
% メディアの最も大きな括りとして、画面デバイス(`screen`)か、印刷デバイス(`print`)かがあります。（そしてより細かな特性として、表示幅などが続きます）
% メディアクエリーの最初に設置するキーワードにこの語を使用します。次の例では画面表示の場合には背景を赤に、印刷する場合には背景を青にします。
% ````{code} css
% @media screen {
% 	body {
% 		background: red;
% 	}
% }
% @media print {
% 	body {
% 		background: blue;
% 	}
% }
% ```
% なお、`screen`や`print`を省略した場合には既定値`all`を指定したことと同じになります。その際は画面に表示する場合にも印刷する場合にも同じCSSを適用するという意味になります。
% 次の例では、`screen`か`print`かを問わず、ビューポート幅が800以上の場合には背景を緑にします。
% ```{code} css
% @media (min-width: 800px) {
% 	body {
% 		background: green;
% 	}
% }
% ```
% 
% メディアクエリーでは質問を接続詞`and`（「かつ」）でつなげることができます。次の場合は「画面媒体**かつ**表示幅が800px以上**かつ**1000px以下」（画面媒体でビューポート幅が800px〜1000pxの範囲）の場合に背景を黄色にするという意味になります。
% ```{code} css
% @media screen and (min-width: 800px) and (max-width: 1000px) {
% 	body {
% 		background: yellow;
% 	}
% }
% ```
% 
% メディアクエリーでは`min-width`や`max-width`を使用してCSSを切り替えることができますが、切り替わりの地点を**ブレークポイント**と言います。breakとはこれまで続いてきたものを断ち切って新しいものにするという意味ですが、`min-width:800px`の場合には800pxがブレークポイントになり、これまでとは異なるCSSが新たに適用になります。
% 
% 用語ブレークポイントを用いてメディアクエリーを説明しなおすと、定めたブレークポイントを実装する方法がメディアクエリーであるということになります。
% 
% レスポンシブ対応の検討初期にはブレークポイントをいくつ設けるのか、それぞれのブレークポイントの幅をどうするのかを検討することになります。
% たとえばブレークポイントを一つだけにすると、実装するCSSはブレークポイントより小さい場合と大きい場合の２種類（典型的にはスマートフォンとそれ以外（タブレットとPC）の２種類）が必要になります。ブレークポイントを２つ設けると、CSSは３種類（典型的にはスマートフォン、タブレット、PCの３種類）必要です。
% ````

### 要点解説 3. デバイスモードを使用して検証する

PC版のGoogle Chromeの`DevTools`には各種スマートフォンデバイスの画面サイズを指定してプレビューできる**デバイスモード**が搭載されています。

% エミュレーションの用語を使わなくしたのでボツ
% ```{tip}
% **エミュレーションとは**
% 
% エミュレーションは模擬という意味ですが、本質的な部分を真似て結果見た目もそっくりになるという手法ではなく、あくまで表面上だけ真似る、サル真似というニュアンスがあります。
% 
% 実際にデバイスモードでの表示品質は、実際のスマートフォンでの見た目を保証しません。あくまで**雰囲気だけ真似たものです。**
% したがって最終的にはスマートフォンの実機を用意して動作確認を行うことが必須になります。
% デバイスモードの利点は手軽に使えることと、`DevTools`の機能をフルに使えることです。
% この点を頭に入れてうまく活用しましょう。開発の中盤ごろまではデバイスモードを使って開発速度を稼ぎ、開発の終盤に実機でテストを行って細部を詰めるという使い方が一般的です。
% ```

デバイスモードでは、iPhone等の特定の機種（デバイス）を選択し、そのデバイスの画面の幅と高さで見た目を確認することができます。

```{tip}
**デバイスモードの制限**

デバイスモードでは、各種デバイスの画面の「幅と高さ」を再現するだけです。
各種デバイスで閲覧したときの表示を完璧に再現する...**のではありません。**
したがって、実機での検証の代わりにはなりません。
めんどうな実機検証に対してデバイスモードはすぐに利用できるのが最大のメリットです。
画面の大きさに対して、だいたいこのくらいの範囲が表示されるのだという目安として使用しましょう。
```

次の手順に従って「iPhone SE」のときの表示を確認してみましょう。

```{include} cards/devtools/device-mode.md
```

このようにしてデバイスモードを利用して下さい。

さて、iPhone SEでは、画面解像度が`375x667px`となっていますが、奇妙なことが起こっています。
横幅は`375px`なので、`600px以下`のスタイルとして追加した`background: blue;`が効くはずが、効いていません。背景が薄緑なので`600px`以上であることを示しています。

これを説明するのが次のビューポートです。

### 要点解説 4. ビューポート設定

スマートフォンには「レスポンシブ」に対応していない一般のPC版のウェブサイトをPCで閲覧する時と同等に閲覧できるようにするための仕組みがあります。
それは内部的にPC版相当の画面幅を持ち、そこに描画したページを実機の横幅である`375px`に**縮小表示**するというしかけになっています。

```{figure} https://i.gyazo.com/e9c4894cfc2f337e1c6d44aea9dfc1dc.png
文字がやたらに小さいのは縮小表示されているためです。
```

しかし、今回はきちんと「レスポンシブ」に対応したページを作っていますので、このPC版のページを閲覧する機能が働いては困ってしまいます。
レスポンシブに対応するページを作るのだから、その見た目に沿ってほしいものです。

そこでこの機能を働かないようにする設定を行いましょう。
設定は簡単で、HTMLに次の一行を含めるだけです。

```{code} html
<meta name="viewport" content="width=device-width,initial-scale=1.0">
```

メタ要素は`head要素`内専用ですので`head要素`の中に入れます。

```{code} html
<head>
    <meta charset="UTF-8">
    <link href="css/style.css" rel="stylesheet">
    <title>メディアクエリー</title>
    <meta name="viewport" content="width=device-width,initial-scale=1.0"> <!-- 追加しました -->
</head>
```

このようにしたサンプルを次のURLから確認できます。

https://aaronmaywood.github.io/coding_sample/media-query/sample3/

デバイスモードに入り、iPhone SEで確認してみましょう。

```{figure} https://i.gyazo.com/0cded285d20ab0d03af63ed1d614da54.png
正しい表示（青）になりました。
```

以上、やり方を説明しました。
次に解説をします。
なお、実務上は上記のやり方を押さえておけば大丈夫です。メタ要素を一行加えるだけです。以下の解説は飛ばしてかまいません。

この設定はビューポートに関するものです。
ビューポートとはページのうち、画面に見えている領域という意味で、ブラウザのページを表示している表示エリアを指します。
PC版のブラウザーでは、表示エリアがそのままビューポートになっているため、ビューポートを理解するのは容易です。
一方、スマートフォンではPC版のページを縮小表示する仕組みが備わっているため、スマートフォンでのビューポートはデバイスの画面サイズより大きなものになっています。
iPhone SEではデバイスの画面幅は`375px`なのに対し、ビューポートの幅は`980px`（一般的なスマートフォンはだいたい`980px`です）となっています。
スマートフォンでは画面の大きさに２種類あるのです。実機（デバイス）の画面と、内部的なビューポートの画面です。
そして、ブラウザーはビューポートの画面`980px`に対しPC版のページを描画し、それをデバイス画面の`375px`まで縮小して表示します。

さて、この仕組みはレスポンシブ対応済みのページには却って邪魔です。
この仕組みをキャンセルする設定が例のメタ要素です。

```{code} html
<meta name="viewport" content="width=device-width,initial-scale=1.0">
```

改めて説明します。
これはビューポートに対する設定で、ビューポートの幅（`width`）を実機の幅（`device-width`）にするように指定しています。
これによりビューポートの幅が実機の幅である`375px`になり、メディアクエリーの小さい画面サイズの条件が有効になるというわけです。

なお、`initial-scale=1.0`はスマートフォンの画面を横に倒した時にコンテンツが勝手に拡大表示されないように拡大縮小率を１倍にするものです。指で拡大縮小することまで禁止するものではありませんので、必要に応じて拡大縮小は可能です。

さて、実機の画面とビューポートの関係を説明し、両者を同じに設定する方法を説明しました。ビューポート設定のメタ要素は、レスポンシブ対応の際には必須の一行となりますので、（もし入っていなかったら）忘れずに入れて下さい。

% 前に書いた原稿、ボツにした
% 
% ビューポートという用語が出てきます。
% ビューポートとはブラウザーの表示枠のことで、ブラウザのウインドウサイズ（スマートフォンの場合は全画面表示なので画面サイズ）によってその大きさが決まります。
% PCではビューポートの大きさはブラウザのウインドウサイズと一対一に対応しているため、ウインドウサイズだけを意識すればよくビューポートの存在を知る必要がありません。それがここまでのテキストでビューポートの用語が出てこなかった理由です。
% 一方で、スマートフォンでは画面幅がPCに比べて小さいため、ビューポート幅＝スマートフォンの画面幅という関係のままでは、小さな情報しか表示できません。
% その関係を打破し、スマートフォンでもPCサイトをそのまま見ることができるように工夫されたのが、ビューポート幅を実際の画面幅より大きくすることです。
% ビューポート幅が小さめのPCと同じくらいの幅があるため、PC用のウェブサイトがそのまま閲覧できます。もちろん実際の画面幅が変わるわけではありません。したがってこれは**PC版のウェブサイトが実際の画面幅まで縮小されて表示される**ことを意味します。
% これは最低限見える、というもので、ユーザーは必要に応じて指で拡大操作を行うことが求められます。例えば次のページへのリンクが指で押せないほど小さいため、拡大操作が必要になる、というふうにです。
% スマートフォンが出始めの頃は、ウェブサイトといえばPCサイトのことで、スマートフォンに対応するレスポンシブの手法が浸透して居ませんでした。したがってこの仕掛けが必要でした。
% しかし、ウェブサイトがレスポンシブを実装すると、かえってこの仕掛けが邪魔をします。レスポンシブではビューポートの幅を用いてCSSを切り替えますが、スマートフォン側で実際の画面よりも大きなビューポートを持っていてはCSSを切り替えようがありません。CSS側からは、スマートフォンで閲覧しているかどうかを見分ける方法はビューポートの大きさしか手がかりがありません。したがってビューポートが大きければPC用のCSSを使用することになります。
% そこで、スマートフォンには、ビューポートの幅の設定を切り替える機能があります。規定ではPCの画面幅となっているため、これをスマートフォン実機の画面幅（=デバイス幅,`device-width`）に制限すればよいのです。
% 
% そのための呪文が
% ```{code} html
% <meta name="viewport" content="width=device-width,initial-scale=1.0">
% ```
% です。この設定のなかに出てくる単語、`viewport`、`device-width`は説明済みですので、何を設定しているかのイメージができるでしょう。
% なお、末尾の`initial-scale=1.0`とは、初期の拡大率を「１」（等倍）にするという意味で、スマートフォンを横に倒した時の自動拡大設定を無効にするものです。ここで指定する拡大率は初期表示のためのもので、指で拡大縮小することは制限されていません。
% 
% % そこでスマートフォンのブラウザーのビューポートは、そのスマートフォンの画面幅より大きな値、小さめのPCの画面と同等の幅をもたせられるように設計されました。
% % これにより、スマートフォンの狭い画面幅のなかに、PCで見た時と同じページ幅が縮小されて見えるようにしたのです。
% % 
### 要点解説 5. リキッドレイアウト
 
リキッドレイアウトは画面幅に応じてコンテンツを最適にするもう一つのテクニックで、レスポンシブがブレークポイントによって段階的にCSSを切り替えるのに対し、リキッドでは「画面幅の80%」などというパーセンテージ（表示比率）を指定する手法です。

次の例を参照して下さい。

https://aaronmaywood.github.io/coding_sample/liquid/index.html

```{figure} https://i.gyazo.com/8720935717ebcb2413c38e1fcba97109.png
```

まず、３つの色分けされたボックスがありますが、それぞれのボックスの幅には`width: 90%;`のように**％幅**を指定しています。
CSSの単位％は、常に**親要素に対しての％という意味**です。

最も内側の緑のボックスからみてみましょう。
緑のボックスは、親、つまり青のボックスの60%の幅（`width:60%;`）が指定されています。
青のボックスは、親、つまり`body要素`の80%の幅が指定されています。
オレンジの点線で描かれた`body要素`は、その親、`body要素`の親は`html要素`で、`html要素`の幅は画面幅と等しいことになっていますから、画面幅に対しての90%が指定されています。

次に、画面幅を変更してみましょう。
```{figure} https://i.gyazo.com/621225a5c5687e8e7769882b49062eff.gif
```

画面幅が変わると`body要素`の幅が変わる、`body要素`の幅が変わるとその子要素の青が変わる...と連鎖的に反応してそれぞれのボックスの比率を保ったまま、画面幅に応じた表示が実現できます。
このような仕組みで、画面幅に連動したボックス幅を実現できます。

メディアクエリーが特定の幅（ブレークポイントと言います）でスタイルを切り替えるのに対し、リキッドレイアウトではどの画面幅にも無段階に対応できるのが特徴です。

````{tip}
**リキッドの名の由来**

リキッドとはliquid（液体）を指し、容器を移し替えた際にその容器の幅いっぱいに応じて広がる液体の性質になぞらえています。
なお海外ではリキッドレイアウトのことをフリュード（fluid、流体）レイアウトと呼ぶことが多いようで、これも液体になぞらえた用語が選ばれています。
これは次のように説明されたりもします。
```{figure} https://ja.wikipedia.org/wiki/%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B7%E3%83%96%E3%82%A6%E3%82%A7%E3%83%96%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3#/media/%E3%83%95%E3%82%A1%E3%82%A4%E3%83%AB:Content-is-like-water.svg
**コンテンツは水のごとし**は、レスポンシブウェブデザインの原則を説明した格言。― https://ja.wikipedia.org/wiki/%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B7%E3%83%96%E3%82%A6%E3%82%A7%E3%83%96%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3 より
```
なお、CSSの世界では、文字やブロックなどの表示物をレイアウトに流し込むという、「流れ」を感じさせる比喩表現を多く使っており、通常のフロー（flowは「流れ」）やfloat（浮き）などの語があります。
ここから先は筆者の想像ですが、このような流体の比喩の延長線上でリキッド（やフリュード）の用語が用いられたのだと思います。
````

#### リキッドレイアウトとメディアクエリーは相互に補完し合う

先の例では、リキッドレイアウトは画面幅に対応できるかなり強力な手法である（**しかも、単位％を使用するだけと簡単**）と感じられたと思います。

しかし、極端に小さいサイズには対応しきれません。（大きすぎるサイズも同様に対応しきれません。）

```{figure} https://i.gyazo.com/70b25e526e7720e4c23d0a9e14171441.gif
リキッドレイアウトは小さすぎる幅にまで過剰に応じてしまい、レイアウトや内容がクラッシュする原因になります。
```

リキッドレイアウトではどの画面幅にも応じられるものの、小さくしていった時に読みやすさが保たれるかどうかは別問題です。
小さくしていったときにも読みやすさを保つには、小さい場合用に設計したレイアウトに切り替えるべきで、これはメディアクエリーが担当します。
一方でメディアクエリーは特定の幅（ブレークポイント）だけを対象にするため、ブレークポイントの間を埋める方法を提供しません。そこでリキッドレイアウトを使用するのです。

すなわち、レスポンシブ対応ではメディアクエリーとリキッドレイアウトを相互に弱点を補い合う方法として組み合わせて使用することになります。

### 要点解説 6. ハンバーガーメニュー（ドロワーメニュー）

ハンバーガーメニューとは、狭い画面でも操作しやすいナビゲーションを提供するために、引き出して使用できるようにしたメニュー（ナビゲーション）のことです。

```{figure} https://i.gyazo.com/9f3a8f93aac7b1b10a6ed58c3cbde3c6.png
引き出しボタンをクリックすると...
```
```{figure} https://i.gyazo.com/ba81c0d097ed5815f269becafad5ab93.png
グローバルナビゲーションが引き出されました。
```
```{tip}
ハンバーガーメニューという名称は、引き出しに使用する「三」の形をしたアイコンがハンバーガーを横から見た時の姿に見立てたものです。
同じものを海外では引き出し（drawer）という意味でドロワー（ドロアー、ドローアなど）と呼ぶことが多いようです。
```

% ドロワーはUIとしてどうかという余談

ハンバーガーメニューを１から実装するのは（技術的困難と、作業量的困難が伴い）現実的ではないため、既存の仕組みを導入することが一般的です。
既存の仕組みにも様々なものがありますが、テキスト**P.4補足　追記/ハンバーガーナビ** ではhttps://computerwolf.github.io/SlickNav/ で無料で配布されている「SlickNav（スリックナヴ）」のCSSを少々改造して使用しています。

SlickNavの使用方法は公式サイトの指示に従います。
ただし公式サイトの使用方法はわかっている人向けの簡潔な記載しかないため、SlickNavでGoogle検索して日本語で解説されている記事を見つけて導入します。
これはSlickNavに限った話ではなく、どこかで配布されている仕組みを導入する際一般の話です。

さて、SlickNavに関してはテキスト**P.4補足　追記/ハンバーガーナビ**に従っていただくこととし、説明を終えます。

% ↓これを書く必要があるか？不要な議論を避けよう
% また組み込む際に追加するコードの意味について気になる人もいるでしょう。
% しかしコードの意味は作品によってバラバラです。それを理解するには作品を設計した作者の考えかたを学ぶということになり、公式サイト
% したがってSlickNavのような仕組みを導入する際には通常意味理解までは困難で、またその必要はなく、こうしたら動くという組み込み手順を確立することを当面の目標にしましょう。

% {{TODO}}できれば説明を乗せたいが、SlickNavを理解できていない。また説明したところでテキストの説明と結びついていない自己満足に終わってしまうかも。
% #### SlickNavの使用方法
% 
% 1. SlickNavの入手
% 公式サイト
% https://computerwolf.github.io/SlickNav/
% の「DOWNLOAD NOW」をクリック
% 
% https://github.com/ComputerWolf/SlickNav/releases
% から「Source code(zip)」をクリックし、ZIPファイルをダウンロードします。
% 
% ダウンロードできたらZIPファイルを展開し、展開で得られたフォルダ「SlickNav-1.0.10」を作業用フォルダにコピーします。
% 
% 2. 組み込み
% 公式サイトの説明の通りに組み込んでいきます。
% https://computerwolf.github.io/SlickNav/
% 
% 
% https://jquery.com/download/
% にある

### 要点解説のまとめ

ここまでの要点をもう一度まとめましょう。

1. レスポンシブとは
2. メディアクエリーを利用したCSS切り替え
3. デバイスモードを使用して検証する
4. ビューポート設定
5. リキッドレイアウト
6. ハンバーガーメニュー（ドロワーメニュー）

ウェブサイトをマルチデバイス対応する現代的な方法として、レスポンシブウェブデザイン、**通称レスポンシブ**があると紹介しました。
レスポンシブに対応するには、メディアクエリーを使用してデザインの切り替え地点（ブレークポイント）を実装し、ブレークポイント以外の幅全般にはリキッドレイアウトを使用します。またレスポンシブ化に際してはスマートフォンに対してビューポートの設定を忘れないようにしましょう。
レスポンシブ化したページを検証するにはデバイスモードを使用します。ビューポート設定ができているかどうかはこれで確認できます。

追加の話題として、必要に応じて導入するものとしてスマートフォンの画面にグローバルナビゲーションを提供するハンバーガーメニューの仕掛けを紹介しました。

これらの用語の関係が整理できていればテキストが読みやすくなっているでしょう。

(smartphone-site-text)=
## STAGE34 スマートフォンサイト制作実習 ver.1.0 F 22.06.15

ここからテキストに入ります。
既に[要点解説](pointcheck-multidevice)で説明したことがまとまっています。
おさらいしながら読んで下さい。

### 「マルチデバイスサイト」とは？ 「スマートフォンサイト制作実習」P.2-3

% % 不適切さの指摘
% % https://www.figma.com/file/x46C60n8xi6nEKc9DiNVtC/%E5%88%9D%E5%BF%83%E8%80%85%E3%81%8B%E3%82%89OK%E3%80%8CHTML5%E5%9F%BA%E7%A4%8E%E3%80%8D%E3%83%BB%E3%83%95%E3%82%A3%E3%83%BC%E3%83%89%E3%83%90%E3%83%83%E3%82%AF?node-id=101%3A2

## STAGE35 World_literature(世界の文学) P.4-6

この**P.4-6**で扱う「世界の文学」の教材には、レスポンシブ化に必要なエッセンスが詰まっています。
ぜひ自身でこれと同等のページを作成できるところまでチャレンジしましょう。

```{include} cards/hint-to-write.md
```

# LEVEL9(LEVEL9.md) マルチデバイス(2)

## STAGE36 Japanese_literature(日本の文学) P.7-13

「世界の文学」ページに続いて「日本の文学」ページを実装します。
ここも世界の文学同様に丁寧に時間をかけて実装しましょう。
この教材では新たにハンバーガーメニュー（ハンバーガーナビ）も導入します。

## STAGE36-2 ハンバーガーナビ P.14-16

ここで説明しているコードをこの通りに記述して動作するところまでもっていきましょう。指示通り設置できればOKです。追加するコードの意味は書いてあることくらいの大雑把な理解でOKです。

## STAGE37 マルチデバイスサイト Green Camp P.2-18

ここからは新しいテキスト**初心者からOK「スマートフォンサイトテキスト」 ver.1.0 F 22.08.01**に移ります。

新しい教材「Green Camp」は、ここまでに実装してきた「世界の文学」「日本の文学」をふまえており、新しい話題はありません。力試しとして取り組みましょう。

{{TODO}}この作例の難点が見えない。動画で研究し、また、自身で実装して確認する必要があるかも。
{{TODO}}この記事に対する教材はどこにあるか？全て調べる。→指示書付きフォルダはあるが、完成品はないっぽい？
	C:\Users\yasumura\Desktop\コーディング\テキスト\220920_0241_9月コーステキスト\★事前購入分\スマホ\スマートフォン_作例編・教科書\スマホ_Green_Camp_配布用

% %	- マルチデバイスサイト Green Camp 2-3
% %	- タグ付け 4-5
% %		- HTML 8-10
% %
% %
% %% - ドキュメントマルチビューの概念の応用
% %%	- 複数のスタイルを作って張り合わせて切り替える
% %%   - リキッド
% %%	- ドロワーメニュー(SlickNav)/ハンバーガー
% %% - https://developer.mozilla.org/ja/docs/Learn/CSS/CSS_layout/Responsive_Design
% %%   - ビューポートメタタグ
% 
% 
% 
% ## STAGE38 PCサイト
% 
% - スマートフォンサイトテキスト
% 	- Green Camp （PC サイト用） 6-7,11-13	←jQuery(SlickNav)
% 
% ## STAGE39 タブレットサイズ
% 
% - スマートフォンサイトテキスト
% 	- 14-15
% 
% ## STAGE40 スマートフォンサイズ
% 
% - スマートフォンサイトテキスト
% 	- 16-18
% 
% % 動作確認
% % - DevToolsのデバイスモード
% % - 実機を使用して動作確認の方法
% %   - Android
% %   - iPhone
 
## 昇段試験

図に示すレスポンシブ対応のページを実装して下さい。
```{figure} https://i.gyazo.com/282a10c93f9f756f25c908e734452f21.png
本教材は<a href="https://www.figma.com/@joyshaheb" target="_blank">Khondokor Alarm@JoyShaheb</a>氏によるもので、それに加筆したものです。
オリジナルはライセンス<a href="https://creativecommons.org/licenses/by/4.0/deed.ja" target="_blank">CC BY 4.0</a>にて配付されており、<a href="https://www.figma.com/community/file/1150370769219258177" target="_blank">https://www.figma.com/community/file/1150370769219258177</a>にあります。
本作品の中で使用されている各画像素材のライセンスは、<a href="https://www.figma.com/file/y2gyLprBh8D6FLO2wbKxwj/%E6%95%99%E6%9D%90%E3%83%BBResponsive-Startup-Website-By-Khondokor-Alarm%40JoyShaheb?node-id=19%3A6&t=jZACmIAskTTrw8VJ-1" target="_blank">画像素材一覧</a>の中にあるそれぞれのURLから確認することができます。
```

以下に必要な素材・指示を示します。

- 画像素材をダウンロードして下さい。
	- https://github.com/AaronMaywood/responsive-by-JoyShaheb/archive/refs/heads/main.zip
		- ZIPファイルを展開すると`images`フォルダが現れます。この`images`フォルダをコピーして制作に使用して下さい。
- デザインカンプ
	- デザインカンプはAdobe社のFigmaで作成・共有しており、以下のURLで確認できます。
	- https://www.figma.com/file/y2gyLprBh8D6FLO2wbKxwj/%E6%95%99%E6%9D%90%E3%83%BBResponsive-Startup-Website-By-Khondokor-Alarm%40JoyShaheb?node-id=0%3A1&t=jZACmIAskTTrw8VJ-1
		````{dropdown} Figmaの画面でデザインカンプの指示を読む方法を確認する
		```{include} cards/figma.md
		```
		````
- デザインシステム（デザイナーからの指示）
	- 次のURLを開いて下さい。
		- https://www.figma.com/file/y2gyLprBh8D6FLO2wbKxwj/%E6%95%99%E6%9D%90%E3%83%BBResponsive-Startup-Website-By-Khondokor-Alarm%40JoyShaheb?node-id=1%3A3377&t=jZACmIAskTTrw8VJ-1
	- デザインシステムとはデザイナーの意図を言語化したもので、デザイナーとコーダーの共通認識を表したものです。具体的には、色や使用するフォントの指示、ブレークポイントなどの指示が含まれます。
	- なお、フォントにはGoogle Fontsを使用します。
		````{dropdown} 指定されたフォントをGoogle Fontから使用する方法を確認する
		```{include} cards/google-fonts.md
		```
		````
- ファイル名の指示
	- HTMLは`index.html`としてください。
	- CSSは`css/style.css`として下さい。

% ↓書きかけたけどここでは使用しないことにした
% ```{include} cards/rem-px-conversion.md
% ```

## 提出方法（検証〜提出）

- コーディングができたら動作確認を行って下さい。
	````{dropdown} ウェブサイトの検証方法を確認する
	```{include} cards/testing.md
	```
	````
- 動作確認ができたら提出して下さい。
	````{dropdown} 課題の提出方法を確認する
	```{include} cards/school/send-in-files.md
	```
	````
- 合格すれば模範解答を手に入れることができます。模範回答と照らし合わせ、さらに知識を固めて下さい。
	- また、次のレベル教材が示されます。次のレベルに進んでください。

