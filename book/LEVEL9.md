# LEVEL9(LEVEL9.md) マルチデバイス(1)
## STAGE34 スマートフォンサイト制作実習 ver.1.0 F 22.06.15

- スマートフォン
	- 「マルチデバイスサイト」  とは？ 2-3

## STAGE35 World_literature(世界の文学)

- スマートフォン
	- World_literature(世界の文学) 4-6

# LEVEL9(LEVEL9.md) マルチデバイス(2)
## STAGE36 Japanese_literature(日本の文学)

- スマートフォン
	- Japanese_literature(日本の文学) 7-13

## STAGE36-2 ドロワー

- スマートフォン
	- 補足　追記 / ハンバーガーナビ 14-16

## STAGE37 マルチデバイスサイト Green Camp

% - ドキュメントマルチビューの概念の応用
%	- 複数のスタイルを作って張り合わせて切り替える
%   - リキッド
%	- ドロワーメニュー(SlickNav)/ハンバーガー
% - https://developer.mozilla.org/ja/docs/Learn/CSS/CSS_layout/Responsive_Design
%   - ビューポートメタタグ


- スマートフォンサイトテキスト
	- マルチデバイスサイト Green Camp 2-3
	- タグ付け 4-5
		- HTML 8-10

## STAGE38 PCサイト

- スマートフォンサイトテキスト
	- Green Camp （PC サイト用） 6-7,11-13	←jQuery(SlickNav)

## STAGE39 タブレットサイズ

- スマートフォンサイトテキスト
	- 14-15

## STAGE40 スマートフォンサイズ

- スマートフォンサイトテキスト
	- 16-18

% 動作確認
% - DevToolsのデバイスモード
% - 実機を使用して動作確認の方法
%   - Android
%   - iPhone

---------------------------------------- LEVEL9 昇段試験 卒業制作 ----
	↓スマホサイトの昇段試験はなく、卒業制作をもって試験とする
		だが、一段階はさんでもいいかも。スマホサイトができない間から卒業制作に手を出していたら収集がつかなくなるかも
		また、レスポンシブとしてスキルを確認しておきたい。
			- 文学の世界
			- 日本の文学
			↑これくらいの例題がよい
			↓じゃあこれで
			https://www.figma.com/file/7AubNTW0tPsiGlDlAlV3Mg/Responsive-Startup-Website-(Community)?node-id=145%3A5791
			https://www.figma.com/file/7AubNTW0tPsiGlDlAlV3Mg/Responsive-Startup-Website-(Community)?node-id=24%3A12
---------------------------------------- LEVEL9 昇段試験 卒業制作 ----
=======================================================================

# LEVEL9(LEVEL9.md) マルチデバイス(1)

ここからテキストに**初心者からOK「スマートフォンサイト制作実習」ver1.0 F 22.06.15**を使用します。

## STAGE34 スマートフォンサイト制作実習 ver.1.0 F 22.06.15


PC用のウェブサイトをスマートフォンにも対応させるマルチデバイス化は、ユーザーが利用する端末（デバイス）の幅によってスタイルシートのデザインを切り替える「メディアクエリー」の仕組みを利用して行います。
メディアクエリーでは、端末の幅に応じてスタイルを追加することができる条件付きスタイルを定義できます。

[TODO] メディアクエリーに指定できる条件にはいろいろなものがあります。
	しかし、ほとんどのケースで幅を条件にし、`min-width`と`max-width`が使用されます。


メディアクエリーの典型的な使用例を示します。
[TODO] 大→中→小
	→画面を見せる

% おまけ
% コンテンツファースト
% https://amsstudio.jp/content/term-content-first
% https://kanazawa-homepage.jp/column/column-133/
%
% 	[TODO] （おまけ）モバイルファースト的な構成
% 		小→中→大
% 		※CSSの優先順位から、小と大のスタイルを書く順番を逆にする必要がある
% 			[TODO] スタイルの優先順位
% 				CSSでスタイルを上書きするには、上書きするスタイルをCSSのソースコードの下の方に持っていきますので、メディアクエリーは通常下の方に書きます。


DevToolsの使い方
- iPhoneSE
	- viewportが必要
		スマートフォンのおせっかい機能、PC版のサイトを縮小表示してしまう
		教科書の2Pでviewportを設定すると説明する
			→この手順なら誤解を防げる
		viewportの書き方は基本的にこれ

### 「マルチデバイスサイト」  とは？ 「スマートフォンサイト制作実習」P.2-3

% 不適切さの指摘
% https://www.figma.com/file/x46C60n8xi6nEKc9DiNVtC/%E5%88%9D%E5%BF%83%E8%80%85%E3%81%8B%E3%82%89OK%E3%80%8CHTML5%E5%9F%BA%E7%A4%8E%E3%80%8D%E3%83%BB%E3%83%95%E3%82%A3%E3%83%BC%E3%83%89%E3%83%90%E3%83%83%E3%82%AF?node-id=101%3A2

スマートフォン用のウェブサイトの制作は、かつてはPC版のウェブサイトとは別のページとして実装する時代もありました。
現在ではSEO効果を複数ページに分散させない目的で、一つのページだけをつくり、PCやスマートフォン等の各種デバイスに応じてCSSだけを切り替える「レスポンシブ」という手法が主流です。

レスポンシブとは表示するデバイスの違いに「敏感に反応して、応じる」という意味で、具体的には表示するデバイスの**画面幅に応じたCSSを選択する**ことで達成します。

% レスポンシブウェブデザイン
% →このページの説明はわかりにくい
% https://ja.wikipedia.org/wiki/%E3%83%AC%E3%82%B9%E3%83%9D%E3%83%B3%E3%82%B7%E3%83%96%E3%82%A6%E3%82%A7%E3%83%96%E3%83%87%E3%82%B6%E3%82%A4%E3%83%B3

**デバイス**とは本来は機器という意味の広い用語ですが、レスポンシブの文脈ではPC、タブレット、スマートフォンなどの**各種の表示機器**を指します。

% デバイスとは
% https://kotobank.jp/word/%E3%83%87%E3%83%90%E3%82%A4%E3%82%B9-6375
% > 本来は道具・仕掛け・考案・くふう・方策・図案・意匠などを意味する英単語であるが、コンピュータ関連では、コンピュータを構成する電子機器やパーツ類、各種周辺機器など、特定の機能をもった装置の総称として用いられる。

そして、レスポンシブの手法を使ってページをPC、タブレット、スマートフォンの複数のデバイスに対応させることを「マルチデバイス対応（多デバイス対応）」と言います。

ビューポートという用語が出てきます。
ビューポートとはブラウザーの表示枠のことで、ブラウザのウインドウサイズ（スマートフォンの場合は全画面表示なので画面サイズ）によってその大きさが決まります。
PCではビューポートの大きさはブラウザのウインドウサイズと一対一に対応しているため、ウインドウサイズだけを意識すればよくビューポートの存在を知る必要がありません。それがここまでのテキストでビューポートの用語が出てこなかった理由です。
一方で、スマートフォンでは画面幅がPCに比べて小さいため、ビューポート幅＝スマートフォンの画面幅という関係のままでは、小さな情報しか表示できません。
その関係を打破し、スマートフォンでもPCサイトをそのまま見ることができるように工夫されたのが、ビューポート幅を実際の画面幅より大きくすることです。
ビューポート幅が小さめのPCと同じくらいの幅があるため、PC用のウェブサイトがそのまま閲覧できます。もちろん実際の画面幅が変わるわけではありません。したがってこれは**PC版のウェブサイトが実際の画面幅まで縮小されて表示される**ことを意味します。
これは最低限見える、というもので、ユーザーは必要に応じて指で拡大操作を行うことが求められます。例えば次のページへのリンクが指で押せないほど小さいため、拡大操作が必要になる、というふうにです。
スマートフォンが出始めの頃は、ウェブサイトといえばPCサイトのことで、スマートフォンに対応するレスポンシブの手法が浸透して居ませんでした。したがってこの仕掛けが必要でした。
しかし、ウェブサイトがレスポンシブを実装すると、かえってこの仕掛けが邪魔をします。レスポンシブではビューポートの幅を用いてCSSを切り替えますが、スマートフォン側で実際の画面よりも大きなビューポートを持っていてはCSSを切り替えようがありません。CSS側からは、スマートフォンで閲覧しているかどうかを見分ける方法はビューポートの大きさしか手がかりがありません。したがってビューポートが大きければPC用のCSSを使用することになります。
そこで、スマートフォンには、ビューポートの幅の設定を切り替える機能があります。規定ではPCの画面幅となっているため、これをスマートフォン実機の画面幅（=デバイス幅,`device-width`）に制限すればよいのです。

そのための呪文が
```{code} html
<meta name="viewport" content="width=device-width,initial-scale=1.0">
```
です。この設定のなかに出てくる単語、`viewport`、`device-width`は説明済みですので、何を設定しているかのイメージができるでしょう。
なお、末尾の`initial-scale=1.0`とは、初期の拡大率を「１」（等倍）にするという意味で、スマートフォンを横に倒した時の自動拡大設定を無効にするものです。ここで指定する拡大率は初期表示のためのもので、指で拡大縮小することは制限されていません。

% そこでスマートフォンのブラウザーのビューポートは、そのスマートフォンの画面幅より大きな値、小さめのPCの画面と同等の幅をもたせられるように設計されました。
% これにより、スマートフォンの狭い画面幅のなかに、PCで見た時と同じページ幅が縮小されて見えるようにしたのです。
% 

レスポンシブはCSSを切り替えて実現すると説明しました。この切り替えるカラクリを**メディアクエリー**といいます。
メディア（媒体）はこのページを表示するデバイスの種類やビューポート幅などの特性を指し、クエリーとは質問や問い合わせという意味です。
% https://ejje.weblio.jp/content/query
**メディアクエリーとは今、どのメディアで閲覧している？と尋ね、それに応じて使用するCSSを切り替える機能です。**
メディアクエリーを使えばビューポート幅を尋ねてCSSを切り替えることができ、それによってレスポンシブ（ビューポート幅に応じる）を実現できます。

````{info}
メディアの最も大きな括りとして、画面デバイス(`screen`)か、印刷デバイス(`print`)かがあります。（そしてより細かな特性として、表示幅などが続きます）
メディアクエリーの最初に設置するキーワードにこの語を使用します。次の例では画面表示の場合には背景を赤に、印刷する場合には背景を青にします。
````{code} css
@media screen {
	body {
		background: red;
	}
}
@media print {
	body {
		background: blue;
	}
}
```
なお、`screen`や`print`を省略した場合には既定値`all`を指定したことと同じになります。その際は画面に表示する場合にも印刷する場合にも同じCSSを適用するという意味になります。
次の例では、`screen`か`print`かを問わず、ビューポート幅が800以上の場合には背景を緑にします。
```{code} css
@media (min-width: 800px) {
	body {
		background: green;
	}
}
```

メディアクエリーでは質問を接続詞`and`（「かつ」）でつなげることができます。次の場合は「画面媒体**かつ**表示幅が800px以上**かつ**1000px以下」（画面媒体でビューポート幅が800px〜1000pxの範囲）の場合に背景を黄色にするという意味になります。
```{code} css
@media screen and (min-width: 800px) and (max-width: 1000px) {
	body {
		background: yellow;
	}
}
```

ビューポート幅を指定するのに用いる`min-width`（最小幅）や`max-width`（最大幅）のキーワードの意味は慣れるまで少々混乱しがちです。
`min-width`とは「少なくともこの幅はある」という意味で、`min-width: 800px`と書けば「少なくとも800pxはある」すなわち「800px以上」という意味です。800pxより小さい時という反対の意味ではないので気をつけて下さい。

メディアクエリーでは`min-width`や`max-width`を使用してCSSを切り替えることができますが、切り替わりの地点を**ブレークポイント**と言います。breakとはこれまで続いてきたものを断ち切って新しいものにするという意味ですが、`min-width:800px`の場合には800pxがブレークポイントになり、これまでとは異なるCSSが新たに適用になります。

用語ブレークポイントを用いてメディアクエリーを説明しなおすと、定めたブレークポイントを実装する方法がメディアクエリーであるということになります。

レスポンシブ対応の検討初期にはブレークポイントをいくつ設けるのか、それぞれのブレークポイントの幅をどうするのかを検討することになります。
たとえばブレークポイントを一つだけにすると、実装するCSSはブレークポイントより小さい場合と大きい場合の２種類（典型的にはスマートフォンとそれ以外（タブレットとPC）の２種類）が必要になります。ブレークポイントを２つ設けると、CSSは３種類（典型的にはスマートフォン、タブレット、PCの３種類）必要です。
````

ここまでで説明したことをまとめます。
> PCだけでなくスマートフォンにも対応したマルチデバイス対応のウェブサイトを制作するには、レスポンシブという手法（実態は、メディアクエリーを使用したCSSの切り替え）を用います。また、設定したメディアクエリーを有効にするために、スマートフォン側のビューポートをデバイス幅（`device-width`）に設定します。
この説明が理解できれば、ここまでのポイントを押さえることができています。

さて、マルチデバイス対応のための残り３つの話題（リキッドレイアウトとハンバーガーメニュー、レティナディスプレイ対応）の概要を説明します。

リキッドレイアウトは画面幅に応じるもう一つのテクニックで、レスポンシブがブレークポイントによって段階的にCSSを切り替えるのに対し、リキッドでは「画面幅の80%」などというパーセンテージ（表示比率）を指定する手法です。
ボックスに表示比率を指定すれば、どの画面幅にでも応じることができます。

次の例を参照して下さい。
{{TODO}} github.pages.

リキッドレイアウトではどの画面幅にも応じられるものの、小さくしていった時に読みやすさが保たれるかどうかは別問題です。小さくしていったときにも読みやすさを保つには、小さい場合用に設計したレイアウトに切り替えるべきで、これはレスポンシブが担当します。一方でレスポンシブではブレークポイント前後の幅で最適化を行うため、ブレークポイントと次のブレークポイントの間を埋める方法を提供しません。そこでリキッドレイアウトを使用するのです。

すなわち、レスポンシブとリキッドは相互に弱点を補い合う方法として組み合わせて使用します。

```{info}
**リキッドの由来**

リキッドとはliquid（液体）を指し、容器を移し替えた際にその容器の幅いっぱいに応じて広がる液体の性質になぞらえています。
CSSの世界では、文字やブロックなどの表示物をレイアウトに流し込むという比喩表現を使っており、通常のフロー（flowは「流れ」）やfloat（浮き）などの流れるものにちなんだ語があります。
ここから先は筆者の想像ですが、このような流体の比喩の延長線上でリキッドの用語が用いられたのだと思います。なお海外ではリキッドレイアウトのことをフリュード（fluid、流体）レイアウトと呼ぶことが多いようで、これもCSSの世界観に沿った用語が選ばれています。
```

ハンバーガーメニューは狭い画面の中にグローバルナビゲーションを提供するために、引き出して使用できるようにしたメニュー（ナビゲーション）のことです。
```{figure} https://i.gyazo.com/9c7d8a62bd6c28af79f0aee075842ece.png
```
```{figure} https://i.gyazo.com/182ba7ef323e5c8138b768cb24f31436.png
```
```{info}
ハンバーガーメニューという名称は、引き出しに使用する「三」の形をしたアイコンがハンバーガーを横から見た時の姿に見立てたものです。
同じものをドロワー（drawer、引き出し）と呼んだりもします。
```


レティナディスプレイ対応

動作確認の方法
[TODO] - 伸ばしたり縮めたりしていいかどうか
[TODO] - デベロッパーツールのデバイスモードの使い方

## STAGE35 World_literature(世界の文学)

[TODO] 各個撃破で進めよう

- スマートフォン
	- World_literature(世界の文学) 4-6

# LEVEL9(LEVEL9.md) マルチデバイス(2)

## STAGE36 Japanese_literature(日本の文学)

- スマートフォン
「スマートフォンサイト制作実習」
	- Japanese_literature(日本の文学) 7-13

## STAGE36-2 ドロワー

- スマートフォン
	- 補足　追記 / ハンバーガーナビ 14-16

## STAGE37 マルチデバイスサイト Green Camp

% - ドキュメントマルチビューの概念の応用
%	- 複数のスタイルを作って張り合わせて切り替える
%   - リキッド
%	- ドロワーメニュー(SlickNav)/ハンバーガー
% - https://developer.mozilla.org/ja/docs/Learn/CSS/CSS_layout/Responsive_Design
%   - ビューポートメタタグ


- スマートフォンサイトテキスト
	- マルチデバイスサイト Green Camp 2-3
	- タグ付け 4-5
		- HTML 8-10

## STAGE38 PCサイト

- スマートフォンサイトテキスト
	- Green Camp （PC サイト用） 6-7,11-13	←jQuery(SlickNav)

## STAGE39 タブレットサイズ

- スマートフォンサイトテキスト
	- 14-15

## STAGE40 スマートフォンサイズ

- スマートフォンサイトテキスト
	- 16-18

% 動作確認
% - DevToolsのデバイスモード
% - 実機を使用して動作確認の方法
%   - Android
%   - iPhone

---------------------------------------- LEVEL9 昇段試験 卒業制作 ----
	↓スマホサイトの昇段試験はなく、卒業制作をもって試験とする
		だが、一段階はさんでもいいかも。スマホサイトができない間から卒業制作に手を出していたら収集がつかなくなるかも
		また、レスポンシブとしてスキルを確認しておきたい。
			- 文学の世界
			- 日本の文学
			↑これくらいの例題がよい
			↓じゃあこれで
			https://www.figma.com/file/7AubNTW0tPsiGlDlAlV3Mg/Responsive-Startup-Website-(Community)?node-id=145%3A5791
			https://www.figma.com/file/7AubNTW0tPsiGlDlAlV3Mg/Responsive-Startup-Website-(Community)?node-id=24%3A12
---------------------------------------- LEVEL9 昇段試験 卒業制作 ----
