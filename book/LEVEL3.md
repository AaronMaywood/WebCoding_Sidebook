# LEVEL3(LEVEL3.md)

## 目次
- CSS
	- ボックスモデル **「CSS3基礎」P.33**
		- 見出し 1 のボックス化・リセット CSS **「CSS3基礎」P.34**
		- 「幅」と「高さ」を「border」と「padding」を含めた値にする ─ box-sizing: border-box **「CSS3基礎」P.36**
		- margin や padding プロパティの一括設定（ショートハンド設定） **「CSS3基礎」P.37**
		- ボーダーの作例 **「CSS3基礎」P.38**
		- ボックスの外部余白（margin）の相殺（そうさい）について **「CSS3基礎」P.59-60**

## STAGE11 ボックスモデル **「CSS3基礎」P.33-36**

CSSの重要な概念として、CSSで扱うのは全て「ボックス（４角形の箱）」だということです。ウェブサイトを構成するさまざまなデザイン要素は、例え素材の形が○や☆だったとしても四角のなかに収めて全てを四角として扱い、レイアウトされます。
漫画のコマを思い出すといいかもしれません。漫画ではさまざまなものが描かれますが、すべてコマ（一般には四角の）中に収められ、コマの集合体としてページが構築されます。

（CSSのボックスと漫画のコマの違いは、CSSボックスが他のボックスと重なったり入れ子になったりすることです）

CSSはボックスの集合体だと説明しましたが、ここから２つの話題に枝分かれします。
１つ目がレイアウト（配置）の方法です。
漫画のコマの並びに対して読む順番が定まっているのと同じく、CSSのボックスの並び順にも原則があります。
規定の並び方を「通常のフロー（流れ）」と言い、横書きの文書のための配置ルールになっています。
すなわち行は横方向へ伸び、段落は縦方向に伸びます。

```{tip}
**レイアウト小史**

ウェブデザインにおいて、デザイナーがデザインするときの重要な概念の一つがレイアウト（配置）です。
CSSでもその要望に応えるため、規定の「通常のフロー」以外のレイアウト原則が追加されてきました。（ただしその歩みは鈍く、長年に渡ってCSSを書く人たちを苦しめてきました。ただし、今は違います。）
最初期に生まれたのが`float`と`position`です。
`float`は文章の途中に挿し絵を挿入する場面で使うレイアウト原則ですが、その当時は現代的なレイアウト原則である`flexbox`や`grid`が存在しなかったため、それらを擬似的に表現する方法として高度な（およそ直感的ではない保守のしにくい）応用が行われました。
`position`は「通常のフロー」でボックスを配置した後、そこからどのくらいずらすか、また通常のフローからは切り離して自由な位置に配置するかを指定できます。`position`によってボックスは他のボックスと重なる場面が生まれ、グラフィックツールのレイヤーのような多層構造が生まれます。その際にどちらを手前に表示するかという制御も行えます。

通常のフロー、`float`、`position`だけの灰色の時代が長く続いたあと、ようやく登場したのが`flexbox`です。`flexbox`は横幅いっぱいのなかにどのようにボックスを配置するか（中央寄せなのか、すき間を均等割にするかなど）というデザイナーの頭の中で直感的に使用しているデザイン原則を持ち込みました。
そして`grid`が現れました。`grid`は`flexbox`と似た面がたくさんありますが、`flexbox`が横方向だけを扱うのに対し、`grid`は「表（`table`）」のように縦横のマス目への配置を扱います。

それまでは`float`を駆使して同等のことを行っていましたが、もはやその必要はありません。そして`float`は本来の使い方（文章に挿し絵を配置する）に戻り、シンプルな用法のみで良くなりました。

なお、マイナーなレイアウト原則として`columns`という方法も用意されています。
```

２つ目がそれぞれのボックスに共通する構造です。
全てのボックスには玉ねぎのような階層構造があり、それによってボックスの大きさを決め、また隣り合うボックス同士の余白を決めます。
ボックスの構造は内側から外側に向かって「コンテンツ（内容）」「パディング（境界線とコンテンツの間に敷かれるボックス内部の余白）」「ボーダー（境界線）」「マージン（他のボックスとの余白）」の四階層です。「マージン」のみがボックスの外側の構造で、それ以外は全てボックスの内部構造です。

「コンテンツ」の大きさはそこに入っている文字などの内容の大きさで決まりますが、CSSの`widthプロパティ`（幅）や`heightプロパティ`（高さ）で指定することができます。
ボックスの残りの構造「パディング」「ボーダー」「マージン」には、それぞれ`paddingプロパティ`、`borderプロパティ`、`marginプロパティ`が対応します。

**「CSS3基礎」P.33-35**を読み、また四階層の設定をいじってどの用に変化するかを吟味して下さい。

## ボックスモデル **「CSS3基礎」P.33**

ボックスの四階層を紹介しています。
また、ボックスに対して背景を設定した時、パディングと内容のみに描画されることを説明しています。

## 見出し 1 のボックス化・リセット CSS **「CSS3基礎」P.34-35**

ここで`font-size: 62.5%;`を入れていますが、どこから`62.5%`という数字が出てきたかは **「CSS3基礎」P.90**の「付録：文字サイズ単位換算表」を参照して下さい。

**P.35**ではリセットCSSを入れ、その効果が分かる例となっています。

```{include} cards/resetcss.md
```

## 「幅」と「高さ」を「border」と「padding」を含めた値にする ─ box-sizing: border-box **「CSS3基礎」P.36**

ボックスモデルでの「`width`（幅）」や「`height`（高さ）」は、規定では「コンテンツ行（内容）」のみを指します。
したがってボックスの内部構造全体の幅は`width`（幅）で指定した「コンテンツ（内容）」に「パディング」と「ボーダー」の幅を含めたものになります。

レイアウトする際には「内容の幅」ではなく「ボックスの内部構造全体の幅」の方が直感的であるため、このままだと非常にコーディングし辛いです。

そこで`width`（幅）が指すものを「内容」から「ボックス内部構造全体」に変更する`box-sizingプロパティ`の出番です。
`box-sizingプロパティ`の規定値は「内容」を示す`content-box`です。これを「ボックスの内部構造全体」の枠である`border-box`に変更するために、`box-sizing: border-box;`と書きます。

テキストでは`h1`に対し`box-sizing:border-box;`を宣言していますが、`h1`を含めた全てのどのボックスに対してもこの設定を行う方がコーディングが楽です。この設定を規定にするために、リセットCSSに追加しておくことをオススメします。
```{code} css
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box; /* 追加 */
}
```

## margin や padding プロパティの一括設定（ショートハンド設定） **「CSS3基礎」P.37**
## ボーダーの作例 **「CSS3基礎」P.38**
## ボックスの外部余白（margin）の相殺（そうさい）について **「CSS3基礎」P.59-60**

---------------------------------------- LEVEL3 昇段試験 ----
