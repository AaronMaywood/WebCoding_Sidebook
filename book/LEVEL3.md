# LEVEL3 CSSの基本

ここからいよいよページの見栄えを担当するスタイリングの方法を学びます。
ページのスタイリングにはCSSという道具を使用します。



## CSSとは

はじめに**「HTML5基礎」P.77**でCSSというものの具体例を見て下さい。
枠内の`style要素`の中に書いてあるのがCSSというものです。
HTMLとは異なった書式をしています。

次に**「HTML5基礎」P.76**を読んでCSSを書く場合の書式(構文)を学びましょう。
CSSの基本的な構成要素は「主語」に相当する「セレクター」と、主語への具体的なスタイル指示である「プロパティ(とその値)」からなることを押さえておきましょう。
（なお、**「HTML5基礎」P.76**に書いてあることは、二冊目の教科書「CSS3基礎」**P.2**と同じです。）
	
## CSSを書くには

ここから二冊目の教科書「CSS3基礎」に移ります。
具体的な話題に移る前に、まず以下を読んでCSSを追加したらHTMLの表示がどうなるか、またCSSの追加方法を押さえておきましょう。

### 実習：HTML と CSS の応用実例サンプルを検証する 「CSS3基礎」P.10-11
### 実習：HTML 書類を新規の CSS 書類で設定する手順 「CSS3基礎」P.12-16

## セレクター

CSSは主語である「セレクター」とスタイル指示である「プロパティ」から構成されます。
ここでは主語を名指しする道具である「セレクター」にどんな種類があるかを見て、HTMLの中の何を主語にできるかを学びましょう。

### セレクタの種類 「CSS3基礎」P.3-6

セレクターの中で使用頻度の高いのは「タイプセレクタ（要素セレクタとも言います）」「クラスセレクタ」です。
また「複数のクラスセレクタを 1 つのタグに適用するには」も重要で、CSSでは複数箇所に書いたスタイルを足し合わせられることを説明しています。

P.3には「リセットCSS」と言う説明があります。こちらも用語を押さえておきましょう。
```{include} cards/resetcss.md
```

### インライン CSS・内部 CSS・外部 CSS について 「CSS3基礎」P.7-9

ここではCSSを書く場所に３通りあることを説明しています。
「外部CSS」の方法が標準的な方法であるため、それを先に押さえましょう。
CSSは一つのウェブサイトを構成する全ページに適用するため、特定のHTMLページ内に埋め込む「インラインCSS」や「内部CSS」はほとんど使われません。したがってこういう場所にもCSSが書けるんだな、くらいに見ておきましょう。

### タグに関連する CSS セレクタを表示する 「CSS3基礎」P.18

Visual Studio Codeの便利な機能を説明しています。

この**「CSS3基礎」P.18**の機能がなくとも十分にCSS開発が行えますが、この機能を使ってみたい方は、
**「HTML5基礎」P.18**で導入する「CSS Peek」(CSSチラ見)機能拡張のインストールが必要です。
そしてCSS Peekの使い勝手が変わっています。
`h2`の上で右クリックし、「ピーク」「定義をここに表示」を選んで下さい。

### VSCのカラーピッカーの表示 「CSS3基礎」P.18

Visual Studio Codeの便利な機能を説明しています。
カラーピッカーから全ての色を指定できます。

### ブラウザ Chrome のフォント設定を初期化する 「CSS3基礎」P.19-21

ブラウザの設定をいじって規定のフォントを変える方法を説明しています。
この話題は開発には関係ありませんのでスキップしてかまいません。

## プロパティ

CSSのセレクターの種類を学んだので、次はプロパティの種類を学びましょう。

### CSS の単位について 「CSS3基礎」P.22-25

CSSの中で大きさを指定する際に指定できる様々な単位を紹介しています。
通常は`px`、`rem`、`%`の３つをよく利用します。この３つが基本で最初に学ぶべき単位です。次いで`vw`を利用します。
その他の単位は基本的に使用しません。参考までに掲載しています。

- {{TODO}} vh, vw

% {{TODO}} 余力があれば以下を書く
% **「CSS3基礎」P.23**の⑦では`html`の`font-size: 62.5%`にするテクニックが載っています。これは単位`rem`を使用して任意の`px幅`を指定しやすくするためのものです。
% 例えば`13px`を指定したい時に`1.3rem`と書けるようにします。
% この方法を使用すると、ブラウザの規定のフォントサイズが無効になるデメリットがあります。
% ブラウザの既定値は、利用者が文字サイズを大きくしたりカスタマイズすることができます。
% このテクニックではブラウザの既定値をカスタマイズできる余地をなくします。
% https://www.cherrypieweb.com/4353

### CSSのコメントについて 「CSS3基礎」P.26

CSSでのコメントの書き方を説明しています。

### CSS のプロパティ ─ 文字（書式）関連 「CSS3基礎」P.30

文字のサイズや色、フォント、行揃えなどのよく使うプロパティが紹介されています。
練習・検証用教材：「09_1_ 文字（書式）関連」フォルダ→「index.html」に対して「style.css」があり、
style.cssの中に記入して確かめましょう。

```{code} css
/* セレクターをp以外にして試してみましょう */
p {
	/* 以下のプロパティを一行づつ入れては確認を繰り返しましょう。また値も異なるものに変えて変化を観察しましょう。 */
	font-size: 2rem;
	color: red;
	font-family: serif;
	font-style: italic
	font-weight: bold;
	text-decoration: underline;
	text-align: center;
}
```
- {{TODO}} デベロッパーツールからON/OFF、変更の方法も説明する

### CSS のプロパティ ─ 行高さ（行間） line-height の単位について 「CSS3基礎」P.31-32

line-height（行の高さ）を使用して行間の高さをコントロールできます。
**「CSS3基礎」P.31**の最後にline-heightには、単位なしを推奨するということが結論にあり、重要です。

- {{TODO}} どういう理由だったか調査勉強しなおす。P.32のpxを使用する場合も調べる

````{tip}
line-heightは単位を付けないのが鉄則です。
```{code} css
p {
  line-height: 1.5rem;  /* NG! */
  line-height: 1.5;  /* OK {{TODO}}この場合の意味も書く */
}
```
````

### CSS の「セレクタ」・「プロパティ」・「値」の記述における注意 「CSS3基礎」P.17

ある程度CSSの書き方がわかったので、細かいところも確認しましょう。

###  <ul> <ol> または <li> 要素に設定するプロパティ 「CSS3基礎」P.54

### overflow 「CSS3基礎」 P.55

overflow(オーバーフロー)とは内容が規定の枠から溢れてはみ出ることです。
中身が詰まっている箱(ここの例では文章の詰まった`div要素`)を用意し、箱に対してwidth(ウィッズ、幅)、height(ハイト、高さ) を指定して箱の大きさを縮めてみます。
すると`div`の箱に収まりきらない文章が出て、それらは箱の枠線からはみ出ます。
これがoverflow(溢れ)です。

overflowが起こった際に溢れた部分をどうあしらうかを制御するのがCSSの`overflowプロパティ`です。

### 付録：CSS3  簡易解説 トランジションなど 「CSS3基礎」P.85-89

様々な視覚効果を生むプロパティを紹介します。

#### 不透明度・透明度 「CSS3基礎」P.85

不透明度をopacity(オパシティ)、透明度をアルファ値と呼び、いずれも0(透明)から1.0(不透明)の間の値を指定します。
```{tip}
**不透明度と透明度とは同じ概念です**
不透明度はどのくらい不透明であるか？を扱い、0(透明=全く不透明でない)〜1.0(完全に不透明)の範囲で指定します。0.5では半透明になります。
同様に透明度も0(透明)〜1.0(不透明＝透明ではない)の範囲で指定します。これも0.5で半透明になります。
不透明度も透明度も指定する数値の範囲や意味が同じであるため、どちらの用語を使用しても間違いではありません。
であれば、「透明度」で統一したほうが直感的で分かりやすいと思います。
````

透明度をコントロールできるものには２種類あります。
1. 要素そのもの ... `opacityプロパティ`で指定する
2. 背景や文字など色指定ができるもの ... `rgba()`で色指定にアルファ値を含めた透明色を指定する

```{tip}
CSSで色を扱う`rgba()`などについては、[](color)で扱います。
```

**「CSS3基礎」P.85**下にあるベンダープレフィックスは、まだ標準化されていない先進的なプロパティを使用する際に必要です。しかし本書の範囲では必要ありません。読み飛ばしで大丈夫です。

#### 角丸(かどまる) 「CSS3基礎」P.86

ボックスの角を丸くするプロパティです。

`border-radius`の名前は、境界線や枠線という意味の`border`(ボーダー)と、角を丸める時の円の半径`radius`(ラディウス)と覚えましょう。

`border-radius`で最初に押さえるといいのが次の設定です。

```{code} css
p {
	border-radius: 3px;  /* 四隅全てを少し丸くする */
}
```

`border-radius`に小さなさりげない数値(3px前後)を与えるとおしゃれな雰囲気が出ます。

もう一つテクニックを紹介します。

```{code} css
img {
	border-radius: 50%;	/* ボックスが正方形の時、完全に丸くなる */
}
```

`border-radius`に`%値`を指定すると、セレクターで指定したボックスの幅や高さに対するパーセンテージになります。
% https://developer.mozilla.org/ja/docs/Web/CSS/border-radius
したがって50%を指定するとボックス全体が角丸で囲われることになり、まんまるになります。(ボックスが正方形の時のみの話です)

**「CSS3基礎」P.86**には、四隅のそれぞれの角毎に角丸を与える方法が書かれています。必要に応じて参照して下さい。

#### 線形グラデーション 「CSS3基礎」P.87

(補足事項はありません)
- {{TODO}}円形グラデーションもあると伝える→パスとかもできるようになったかな？

#### テキストシャドウ 「CSS3基礎」P.88

(補足事項はありません)

#### ボックスシャドウ 「CSS3基礎」P.88

(補足事項はありません)

#### トランジション 「CSS3基礎」P.89

% https://developer.mozilla.org/ja/docs/Web/CSS/CSS_Transitions/Using_CSS_transitions#which_css_properties_are_animatable

トランジション(transition)は「遷移」と言う意味で、CSSのある状態Aから別の状態Bに変化することです。
A→Bに変化する間は途中経過がアニメーションによって表現されます。

**「CSS3基礎」P.89**には、`a要素`に対して`transition(transition-duration)`を設定しています。
`a要素`の最初の状態は`ul li a`セレクターに示されたマウスオーバー(ホバー)していない時で、マウスオーバーした際に`ul li a:hover`セレクターで示された新しい状態（widthが大きくなり、背景色色が赤)に遷移します。

% {{DONE}} ul li a の子孫セレクターを説明していない
%	→P.56に子孫セレクタについてと紹介がある
```{tip}
**子孫セレクター**
`ul li a`というように半角スペース区切りのセレクターは、`ul`の中の`li`の中の`a要素`という意味です。
半角スペースには「〜の中の」という意味が与えられており、単なる空白ではないので注意して下さい。
この半角スペースは「子孫セレクター」と言い、HTMLの入れ子の階層構造の中のものを指定する際に使用します。
非常によく使う表現であるため、しっかり覚えておいて下さい。

テキストでは**「CSS3基礎」P.56**に子孫セレクターの説明があります。
```

% {{DONE}} a:hover を説明していない
```{tip}
**:hover疑似クラス**
`a要素`のセレクター`a`には、`a:hover`のように「hover疑似クラス」と呼ばれる修飾子`:hover`を付けることができます。
`a要素`はマウスで操作できる要素であるため、操作に応じてスタイルを変化させたい（操作に応じて反応する、手応えをデザインする）というニーズがあります。
その際に`:hover`を使用します。
`a:hover`はマウスカーソルが`a要素`に乗っかっている状態を指します。
具体例として、マウスカーソルを乗せていない時、乗せた時で色を変える場合を示します。
```{code} css
a {
	color: blue;
}

a:hover {
	color: green;
}
```
マウスカーソルが乗っていない時には青、マウスカーソルを乗せた時(覆いかぶさるという意味でホバー時と言います)には緑です。
マウスカーソルを外したら再び青の状態に戻ります。

`a要素`に指定できる修飾子には他に`:active疑似クラス`(a要素をクリックし続けている時)、`:link疑似クラス`(未訪問のリンク)、`:visited疑似クラス`(訪問済みのリンク)があります。
以下を参照下さい。
- https://developer.mozilla.org/ja/docs/Web/CSS/:active
- https://developer.mozilla.org/ja/docs/Web/CSS/:visited
- https://developer.mozilla.org/ja/docs/Web/CSS/:link
```

% ↓この説明は間違いで、color もアニメーションする
% なお、幅widthはアニメーションしますが(幅がにゅーと伸びる)、色の移り変わりはアニメーションしません。
% プロパティの種類毎にアニメーション可能かどうかが決められています。
% https://developer.mozilla.org/ja/docs/Web/CSS/CSS_animated_properties

このトランジション（遷移）は２つの状態の間をアニメーションで繋げます。
トランジションにはアニメーション効果はありますが、アニメーションを制作する道具ではなく、どちらかというと「状態の遷移」を表現する道具です。

それに対し、アニメーションのための道具`animationプロパティ`があります。
`animation`はトランジションのように状態の変化という概念がなく、すぐ再生するか、また繰り返し再生するかなどの再生コントロール機能をもちます。
また２点間をつなぐトランジションとはことなり、キーフレームと呼ばれるアニメーションの通過点をいくつも持つことができます。

アニメーション(CSSアニメーション)に関しては本書の範囲をはずれます。
https://developer.mozilla.org/ja/docs/Web/CSS/CSS_Animations/Using_CSS_animations 等を参考にしてください。

(color)=
## 色「CSS3基礎」P.27-29

CSSで色を指定するにはいくつかの方法があります。

1. `red`, `green`等の色名を使う
2. 光の３原色(RGB=赤、緑、青)で指定する
  a. 16進法を使って指定する
  b. 10進法を使って指定する→`rgb()`を使います→併せて透明度も指定できる`rgba()`もあります
3. (テキストの範囲外に、`hsb()`などのその他の方法もあります)

これらは全て色を表現する方法ですが、はじめに言っておきたいことはこれらの色を作るのは我々コーダーではなく、コーディング工程よりも前にデザイナーが決定するということです。
したがってCSSで色を作ることまで学ぶ必要はなく、デザイナーが指定した色をCSS化できればよいということです。

たとえば「16進法」という難しそうな概念では、「赤色」を`#ff0000`やその短略形`#f00`という一種の色番号で表しますが、この意味が分からなくともデザイナーから直接`ff0000`と指示があります。あるいは画面上の色を調べるスポイトツールも直接`ff0000`という色番号が取得できます。
このようにして取得した色番号をそのままコーディングするのが普通であるため、それができればよいです。これが結論です。

その結論を踏まえた上でテキスト**「CSS3基礎」P.27-29**をお読み下さい。

---------------------------------------- LEVEL2 昇段試験 ----
- →お茶サイトからとってこよう！←要検討
指示にしたがい、HTMLにCSSで装飾を付けて下さい。
- https://docs.google.com/document/d/1WI5_-_zzrHpZVJsxFvpkwz1t10ft5lc86TGsdTtPH2E/edit#heading=h.ei8r1exdw47m をもとにindex.html を書いて下さい。
- h1: Cascading Style Sheets
- h2: 記述方法
- text-align: right,center
	h1: center
	出展: right
- 色を指定
	- 青: #3366cc
	- 緑: #008000
- 文字サイズ
	全体(html要素)を16px
	h1を1.8rem
	h2を1.2rem
- 行高を1.6に
- フォントをserif、italic、boldに
	- ソースコードは等幅フォントの 'monospace' を指定
- text-decration: underline


{{TODO}} LEVEL2は長すぎるようにも思う。途中に分けられたら分ける。

### 見出しと段落からなる文章を書く

外部記事[ウェブ開発を学ぶ|MDN](https://developer.mozilla.org/ja/docs/Learn)の文章を借り、見出しと段落の使用方法を説明します。

ここまで作成します。
```{figure} https://i.gyazo.com/b36d1003995d1377224195d46941def0.png
```

